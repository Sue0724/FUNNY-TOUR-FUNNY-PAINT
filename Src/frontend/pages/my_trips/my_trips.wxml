<!--pages/my_trips/my_trips.wxml-->
<view class="main">
  <!-- 搜索栏 -->
  <view class="search-bar">
    <input placeholder="搜索行程名称" 
           bindinput="onSearchInputChange" 
           value="{{searchQuery}}" />
  </view>

  <!-- 行程列表 -->
  <view>
   <scroll-view scroll-y="true" style="height: calc(100% - 50px);">
      <view wx:for="{{filteredTrips}}" wx:key="trip_name" 
            class="item">
        <view>
          <!-- 显示行程名称 -->
          <text class="name">{{item.trip_name}}</text>
          <!-- 编辑图标 -->
          <image src="../../images/tool/edit.png" class="icon" bindtap="showEditInput" data-trip-name="{{item.trip_name}}" />
          <!-- 编辑输入框和提交按钮 -->
          <view wx:if="{{edit_trip_name === item.trip_name}}">
            <input placeholder="输入新的行程名称"
                   value="{{inputTripName || ''}}" 
                   bindinput="onTripNameInputChange" />
            <button bindtap="submitTripName">提交</button>
          </view>
          <!-- 跳转到地图的图标 -->
          <image src="../../images/tabbar/icon_map.png" class="icon" bindtap="navigateToMapCanvas" data-trip-name="{{item.trip_name}}" />
        </view>
      </view>
    </scroll-view>
  </view>
</view>
